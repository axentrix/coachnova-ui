@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&family=Satoshi:wght@400;500;600;700&display=swap');

:root {
  --purple-bg: #6F3E87;
  --dark-purple:#381C46;
  --primary: #6F3E87;
  --primary-dark: #5b3370;
  --white: rgba(255, 255, 255, 1);
  --gray-900: #111928;
  --gray-500: #6B7280;
  --font-family-inter: Inter, -apple-system, Roboto, Helvetica, sans-serif;
  --font-family-satoshi: Satoshi, -apple-system, Roboto, Helvetica, sans-serif;
}

/* Keep a minimal global reset BEFORE Tailwind so utility classes are not overridden by cascade */
* {
  box-sizing: border-box;
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
  font-family: var(--font-family-satoshi);
  margin: 0; /* keep body margin reset, avoid resetting margins globally to preserve Tailwind spacing utilities */
}

@tailwind base;
@tailwind components;
@tailwind utilities;

.onboarding-container {
  display: flex;
  width: 100vw;
  min-height: 100vh;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: var(--dark-purple);
  position: relative;
  overflow: hidden;
}

.container {
  display: flex;
  max-width: 760px;
  width: 100%;
  padding: 64px 20px;
  flex-direction: column;
  align-items: center;
  gap: 44px;
  position: relative;
  z-index: 2;
}

.logo-container {
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
}

.logo {
  max-width: 100%;
  height: auto;
  display: block;
}

.jumbotron {
  display: flex;
  padding: 44px 20px;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  width: 100%;
  background: var(--white);
  border-radius: 12px;
  position: relative;
}

.title-section {
  display: flex;
  padding: 0;
  flex-direction: column;
  align-items: center;
  gap: 24px;
  width: 100%;
  position: relative;
}

.supporting-text {
  max-width: 768px;
  width: 100%;
  color: var(--gray-500);
  text-align: center;
  font-family: var(--font-family-satoshi);
  font-size: 20px;
  font-style: normal;
  font-weight: 400;
  line-height: 150%;
  position: relative;
}

.decorative-graphic {
  position: absolute;
  right: -100px;
  top: 50%;
  transform: translateY(-50%);
  width: 615.5px;
  height: 1003px;
  z-index: 1;
  opacity: 0.8;
}

.decorative-graphic svg {
  width: 100%;
  height: 100%;
}

/* Tablet Styles */
@media (max-width: 1024px) {
  .container {
    max-width: 700px;
    padding: 60px 20px;
    gap: 32px;
  }

  .jumbotron {
    padding: 60px 20px;
  }

  .title-section {
    gap: 16px;
  }

  .supporting-text {
    font-size: 18px;
    max-width: 600px;
  }

  .decorative-graphic {
    right: -200px;
    opacity: 0.6;
  }
}

/* Mobile Styles */
@media (max-width: 768px) {
  .container {
    max-width: 100%;
    padding: 40px 16px;
    gap: 24px;
  }

  .jumbotron {
    padding: 40px 16px;
    gap: 8px;
  }

  .title-section {
    gap: 16px;
  }

  .supporting-text {
    font-size: 16px;
    max-width: 100%;
    line-height: 140%;
  }

  .decorative-graphic {
    display: none;
  }
}

/* Small Mobile Styles */
@media (max-width: 480px) {
  .container {
    padding: 20px 12px;
    gap: 20px;
  }

  .jumbotron {
    padding: 32px 12px;
  }

  .heading {
    font-size: 28px;
    line-height: 32px;
    letter-spacing: -0.28px;
  }

  .supporting-text {
    font-size: 14px;
  }
}

/* Large Desktop Styles */
@media (min-width: 1440px) {
  .decorative-graphic {
    right: -50px;
    opacity: 0.9;
  }
}

/* Extra Large Desktop Styles */
@media (min-width: 1920px) {
  .decorative-graphic {
    right: 0;
    opacity: 1;
  }
}

/* Ensure form controls retain expected padding/margins in case other CSS overrides them */
.jumbotron .title-section form input[type="text"],
.jumbotron .title-section form input[type="email"],
.jumbotron .title-section form input[type="url"],
.jumbotron .title-section form input[type="password"],
.jumbotron .title-section form select,
.jumbotron .title-section form textarea {
  padding: 0.625rem; /* matches Tailwind p-2.5 */
  margin: 0;
  border-radius: 0.5rem; /* matches rounded-lg */
  border-width: 1px;
  border-style: solid;
  border-color: #D1D5DB; /* gray-300 */
  background-color: #FFFFFF;
  font-size: 0.875rem; /* text-sm */
  line-height: 1.25rem;
}

/* Buttons within the onboarding area */
.jumbotron .title-section form button {
  padding: 0.625rem 1rem;
  border-radius: 0.5rem;
  text-align:center;
  flex:1 1 auto;
      justify-content: center;
}

/* Checkbox alignment */
.jumbotron .title-section form input[type="checkbox"] {
  margin: 0;
}

/* Fallback utility classes in case Tailwind doesn't generate the custom color utilities */
.bg-primary { background-color: var(--primary) !important; }
.bg-secondary { background-color: #C59AF4 !important; }
.hover\:bg-primary-dark:hover { background-color: var(--primary-dark) !important; }
.text-primary { color: var(--primary) !important; }
.focus\:ring-primary:focus { box-shadow: 0 0 0 3px rgba(111,62,135,0.3) !important; }

/* Flag emoji fallback (ensure flags render even with custom font stack) */
.flag-emoji {
  font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Twemoji', 'EmojiOne', sans-serif;
  font-size: 1.15rem;
  line-height: 1;
}

/* Preview card enhancement */
.preview-card {
  border-radius: 1rem !important;
  box-shadow: 0 10px 30px rgba(17,25,40,0.12), 0 4px 10px rgba(17,25,40,0.06) !important;
}

/* Button hover transition for subtle lift effect */
.jumbotron button,
.stepper-item,
button[class*="px-"] {
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease;
}
.jumbotron button:hover,
button[class*="px-"]:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(17,25,40,0.08);
}
.jumbotron button:active,
button[class*="px-"]:active {
  transform: translateY(0);
  box-shadow: none;
}

/* Range slider gradients */
.range-main,
.range-direct,
.range-warm,
.range-chal {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 8px;
  border-radius: 8px;
  background-repeat: no-repeat;
  outline: none;
}

/* Main slider: blend of directness -> challenge colors */
.range-main {
  background: linear-gradient(90deg, #D66BFA 0%, #69EDC7 100%);
}
.range-main::-webkit-slider-runnable-track {
  height: 8px;
  background: linear-gradient(90deg, #D66BFA 0%, #69EDC7 100%);
  border-radius: 8px;
}
.range-main::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  margin-top: -5px; /* center the thumb */
  border-radius: 50%;
  background: #ffffff;
  box-shadow: 0 1px 3px rgba(0,0,0,0.18);
  border: 2px solid rgba(255,255,255,0.9);
}
.range-main::-moz-range-track {
  height: 8px;
  background: linear-gradient(90deg, #D66BFA 0%, #69EDC7 100%);
  border-radius: 8px;
}
.range-main::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #ffffff;
  border: 2px solid rgba(255,255,255,0.9);
}

/* Sub-sliders: directness, warmth, challenge */
/* Ensure the input element itself shows a fallback gradient for browsers that don't style the track
   (some browsers require the input background to be set alongside the pseudo-element track styles) */
.range-direct {
  background: linear-gradient(90deg, #D66BFA 0%, rgba(214,107,250,0.16) 100%);
}
.range-warm {
  background: linear-gradient(90deg, #FFD27A 0%, rgba(255,210,122,0.16) 100%);
}
.range-chal {
  background: linear-gradient(90deg, #69EDC7 0%, rgba(105,237,199,0.16) 100%);
}

.range-direct::-webkit-slider-runnable-track,
.range-direct::-moz-range-track {
  height: 8px;
  background: linear-gradient(90deg, #D66BFA 0%, rgba(214,107,250,0.18) 100%);
  border-radius: 8px;
}
.range-warm::-webkit-slider-runnable-track,
.range-warm::-moz-range-track {
  height: 8px;
  background: linear-gradient(90deg, #FFD27A 0%, rgba(255,210,122,0.18) 100%);
  border-radius: 8px;
}
.range-chal::-webkit-slider-runnable-track,
.range-chal::-moz-range-track {
  height: 8px;
  background: linear-gradient(90deg, #69EDC7 0%, rgba(105,237,199,0.18) 100%);
  border-radius: 8px;
}

/* Thumb styles for sub sliders reuse main thumb */
.range-direct::-webkit-slider-thumb,
.range-warm::-webkit-slider-thumb,
.range-chal::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 16px;
  height: 16px;
  margin-top: -4px;
  border-radius: 50%;
  background: #fff;
  box-shadow: 0 1px 2px rgba(0,0,0,0.12);
  border: 2px solid rgba(255,255,255,0.9);
}
.range-direct::-moz-range-thumb,
.range-warm::-moz-range-thumb,
.range-chal::-moz-range-thumb {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #fff;
  border: 2px solid rgba(255,255,255,0.9);
}

/* Ensure focus ring is visible */
input[type="range"]:focus::-webkit-slider-thumb {
  box-shadow: 0 0 0 4px rgba(111,62,135,0.12);
}

/* Stepper styles: non-scrollable, transparent inactive steps, consistent height */
.stepper-nav {
  display: flex;
  gap: 0.75rem;
  overflow: visible;
  flex-wrap: wrap;
  white-space: normal;
  padding: 0 0.5rem;
  justify-content: center;
  position: relative; /* needed for connector line */
}
.stepper-item:not(:last-child)::after {
  content: '';
  position: absolute;
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  width: 0.75rem; /* matches gap between items */
  height: 1px;
  background: #E5E7EB; /* gray-200 */
  z-index: 0;
}

.stepper-item {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  min-width: 140px;
  height: 56px;
  padding: 0 0.75rem;
  border-radius: 0.375rem;
  background: transparent; /* no background when inactive */
  color: #ffffff; /* white text and icon */
  border: none;
  flex: 0 0 auto;
  position: relative;
  z-index: 1; /* sit above connector line */
}
.stepper-item .icon { display:inline-flex; align-items:center; justify-content:center; color: inherit; }
.stepper-item svg { width: 20px; height: 20px; }
.stepper-item svg circle { stroke: currentColor; fill: transparent; }
.stepper-item svg text { fill: currentColor; font-family: Arial, sans-serif; font-size: 10px; }

.stepper-item.active { background: var(--primary); color: #fff; border-color: transparent; box-shadow: 0 1px 2px rgba(0,0,0,0.06); }
.stepper-item.active svg circle { fill: #fff; stroke: #fff; }
.stepper-item.active svg text { fill: #111827; }

/* On larger screens, force single-line and reduce min-width so all steps fit on one line */
@media (min-width: 1024px) {
  .stepper-nav {
    white-space: nowrap;
    flex-wrap: nowrap;
    justify-content: center;
  }
  .stepper-item { min-width: 110px; height: 56px; }
}

@media (min-width: 768px) {
  .stepper-nav { justify-content: center; }
}

/* Progress bar at top of jumbotron */
.progress-steps { display:flex; gap:8px; width:100%; }
.progress-segment { flex:1; height:6px; background:#E5E7EB; border-radius:4px; position:relative; overflow:hidden; }
.progress-segment .progress-inner { position:absolute; left:0; top:0; bottom:0; background:var(--primary); width:0%; transition:width .25s ease; }
.progress-segment.active { /* fallback */ }

/* Mobile fixed header and fixed bottom navigation when stepper is active */
.stepper-active .logo-container {
  position: fixed;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 60;
  background: transparent;
  padding: 8px 0;
}

.stepper-active .stepper-nav {
  position: fixed;
  top: 64px; /* sits below logo */
  left: 0;
  right: 0;
  z-index: 55;
  display: flex;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  white-space: nowrap;
  flex-wrap: nowrap;
  padding: 8px 16px;
  gap: 0.75rem;
  background: transparent;
  justify-content: flex-start;
  align-items: center;
}

/* hide scrollbars for the horizontal stepper */
.stepper-active .stepper-nav::-webkit-scrollbar { display: none; }
.stepper-active .stepper-nav { -ms-overflow-style: none; scrollbar-width: none; }

/* add top padding to prevent content being hidden under fixed header */
.stepper-active .container { padding-top: 140px; }

@media (max-width: 768px) {
  .stepper-active .sub-step-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 70;
    background: #F9FAFB; /* gray-50 */
    box-shadow: 0 -6px 24px rgba(17,25,40,0.05);
    padding: 12px 16px;
    display: flex;
    gap: 12px;
    justify-content: space-between;
    align-items: center;
  }
  /* ensure there is space at the bottom so content isn't hidden behind the fixed nav */
  .stepper-active .container { padding-bottom: 92px; }
}
